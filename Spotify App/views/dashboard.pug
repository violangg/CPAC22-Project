extends layout.pug
    
block content
    h2 Welcome! #{user.id} âœ¨
    img(src=user.images[0].url, class='circular_image')

    table 
      each t in tracks
        tr 
          - var artist_name = t.track.artists[0].name
          - var track_name = t.track.name
          - var track_preview = t.track.preview_url
          - var artist_id = t.track.artists[0].id
          - var track_id = t.track.id
          - var track_acousticness = t.track.acousticness

          td #{artist_name}
          td #{track_name}
          // td: a(href='/recommendations?artist=' + artist_id+'&track='+track_id) #{track_name}
          td #{track_acousticness}
          td: a(href=track_preview) Preview

    head
    h3 Image Upload
    body
      form
        input(type="file" id="inputImage" onchange="previewImage()")
        img(id="preview" src="#" alt="Image Preview" style="display:none; max-width: 300px; max-height: 300px;")
      script.
        function previewImage() {
          var preview = document.querySelector('#preview');
          var inputImage = document.querySelector('#inputImage');
          
          // Ensure that the file is an image
          if (inputImage.files && inputImage.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
              preview.src = e.target.result;
            }
            reader.readAsDataURL(inputImage.files[0]);
            preview.style.display = 'block';
          }
        }

